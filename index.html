<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>AUREA CORE â€” Quantum Metaverse</title>
<meta name="theme-color" content="#0c1320">
<style>
  :root{--c1:#00ffe0;--c2:#14b8a6;--bg:#0c1320;--txt:#e6fff9}
  *{box-sizing:border-box} html,body{height:100%}
  body{
    margin:0; background:radial-gradient(1200px 800px at 50% -20%, #17324c 0%, #0c1320 55%, #090f1a 100%);
    color:var(--txt); font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Inter,system-ui,sans-serif;
    overflow-x:hidden;
  }
  .wrap{min-height:100%; display:grid; place-items:center; padding:32px}
  .card{
    width:min(900px,92vw); background:rgba(12,19,32,.6); backdrop-filter: blur(8px);
    border:1px solid rgba(0,255,224,.2); border-radius:16px; padding:24px; box-shadow:0 10px 40px rgba(0,0,0,.45)
  }
  h1{margin:0 0 6px; font-size:clamp(26px,4vw,40px); font-weight:800; letter-spacing:.3px}
  .sub{opacity:.8; margin-bottom:18px}
  .row{display:flex; gap:18px; flex-wrap:wrap; align-items:center}
  .btn{
    appearance:none; border:0; border-radius:12px; padding:12px 18px; cursor:pointer; font-weight:700;
    color:#051013; background:linear-gradient(90deg,var(--c1),var(--c2)); box-shadow:0 0 0 0 rgba(0,255,224,.5);
    transition:transform .08s ease, box-shadow .25s ease, filter .2s ease
  }
  .btn:active{transform:scale(.98)}
  .btn[disabled]{opacity:.6; cursor:not-allowed; filter:saturate(.6)}
  .status{font-size:14px; opacity:.9}
  .stage{
    margin-top:18px; display:grid; grid-template-columns:1fr 1fr; gap:18px
  }
  @media (max-width:820px){ .stage{grid-template-columns:1fr} }
  .panel{
    border:1px solid rgba(0,255,224,.16); border-radius:14px; overflow:hidden; background:rgba(10,16,28,.45)
  }
  .panel h3{margin:0; padding:10px 14px; font-size:14px; letter-spacing:.3px; background:rgba(0,255,224,.08)}
  .panel .inner{padding:14px}
  .avatar{
    display:block; width:100%; height:auto; aspect-ratio:3/4; object-fit:cover;
    border-radius:12px; box-shadow:0 12px 40px rgba(0,255,224,.18)
  }
  .footer{margin-top:14px; font-size:12px; opacity:.7}
  /* estrellitas */
  .stars{position:fixed; inset:0; z-index:-1; pointer-events:none}
  .stars canvas{width:100%; height:100%}
</style>
</head>
<body>
<div class="stars"><canvas id="sky"></canvas></div>

<div class="wrap">
  <div class="card">
    <h1>ðŸŒŒ AUREA CORE â€” Quantum Metaverse</h1>
    <div class="sub">AI Reality Engine activo y sincronizado</div>

    <div class="row">
      <button id="regen" class="btn">âš¡ Generar nuevo avatar</button>
      <span id="status" class="status">Listo.</span>
    </div>

    <div class="stage">
      <div class="panel">
        <h3>Entidad visual (rostro/cuerpo)</h3>
        <div class="inner">
          <img id="avatar" class="avatar" alt="AI avatar">
        </div>
      </div>

      <div class="panel">
        <h3>Prompt</h3>
        <div class="inner">
          <div id="promptBox" style="white-space:pre-wrap; font-family:ui-monospace, SFMono-Regular, Menlo, monospace; font-size:13px; line-height:1.45;"></div>
          <div class="footer">Cada recarga genera una variante nueva. Copia/edita el prompt a tu gusto.</div>
        </div>
      </div>
    </div>

    <div class="footer">Â© AUREA CORE âˆž â€” build: one-file / GitHub Pages</div>
  </div>
</div>

<script>
/* ====== Util: estrellas suaves ====== */
(() => {
  const c = document.getElementById('sky'), ctx = c.getContext('2d');
  const fit = () => { c.width = innerWidth*2; c.height = innerHeight*2; };
  fit(); addEventListener('resize', fit);
  const N = 120, s = [];
  for(let i=0;i<N;i++){
    s.push({x:Math.random()*c.width, y:Math.random()*c.height, r:Math.random()*1.8+0.4, a:Math.random()*1, v:(Math.random()*0.8+0.3)/100});
  }
  (function loop(){
    ctx.clearRect(0,0,c.width,c.height);
    for(const p of s){
      p.a += p.v; const alpha = 0.35 + Math.sin(p.a)*0.25;
      ctx.beginPath(); ctx.fillStyle = `rgba(0,255,224,${alpha})`; ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fill();
    }
    requestAnimationFrame(loop);
  })();
})();

/* ====== Motor de avatar (sin CORS ni claves) ======
   Usamos Pollinations por <img src> directo, cache-busting con timestamp,
   y fallback automÃ¡tico si falla la carga.
==================================================== */
const statusEl = document.getElementById('status');
const imgEl    = document.getElementById('avatar');
const promptEl = document.getElementById('promptBox');
const btn      = document.getElementById('regen');

const subjects = [
  "futuristic AI woman portrait, holographic light, quantum energy, cinematic lighting, sharp focus, detailed skin texture, rim light, teal and cyan glow, 3/4 view",
  "futuristic AI man portrait, titanium mesh skin, neon teal highlights, quantum aura, cinematic lighting, photorealistic, symmetrical face",
  "full body android, elegant armor, bioluminescent veins, standing, studio lighting, volumetric haze, cinematic",
  "androgynous AI entity of light, ethereal, glowing circuits, soft bokeh, ultra detailed, masterpiece"
];

function buildPrompt(){
  const base = subjects[Math.floor(Math.random()*subjects.length)];
  return base + ", high detail, 8k, artstation, masterpiece, clean background";
}

function pollinationsURL(prompt, w=768, h=1024){
  const enc = encodeURIComponent(prompt);
  const t   = Date.now(); // evitar cachÃ©
  return `https://image.pollinations.ai/prompt/${enc}?width=${w}&height=${h}&seed=${t}`;
}

function picsumFallback(){
  // Fallback simple sin IA para evitar pantalla vacÃ­a si algo bloquea
  return `https://picsum.photos/seed/${Date.now()}/768/1024`;
}

function setStatus(msg){ statusEl.textContent = msg; }

function generate(){
  btn.disabled = true;
  const prompt = buildPrompt();
  promptEl.textContent = prompt;
  setStatus("Generando avatarâ€¦");

  const src = pollinationsURL(prompt);
  // Cargar directo en <img> para evitar CORS
  imgEl.onload = () => { setStatus("Completado âœ”"); btn.disabled = false; };
  imgEl.onerror = () => {
    setStatus("Servicio IA ocupado, usando fallback.");
    imgEl.src = picsumFallback();
    btn.disabled = false;
  };
  imgEl.src = src;
}

document.getElementById('regen').addEventListener('click', generate);
window.addEventListener('load', generate);
</script>
</body>
</html>
