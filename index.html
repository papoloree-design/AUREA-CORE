<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"/>
  <title>ARCANUM CORE ∞ × AUREA — Quantum Portal</title>
  <meta http-equiv="refresh" content="1; url=quantum-generator.html">
  <meta name="theme-color" content="#0b0e19"/>
  <link rel="stylesheet" href="style.css">
  <script>
    // Config IPFS para LEDs y comprobación
    window.IPFS_CONFIG = {
      cids: [
        "bafkreigd5jip23gmfnhmm2rtt5lxgoabz2wrcoedbwiq736ce5p6navvem", /* Pinata */
        "bafybeibecheu4ecqg2qqkhjumnxhqhomvod746mmveilpxo7i432cysvge"  /* Web3.Storage */
      ],
      gateways: [
        "https://ipfs.io/ipfs/",
        "https://w3s.link/ipfs/",
        "https://cloudflare-ipfs.com/ipfs/"
      ]
    };
  </script>
</head>
<body>
  <main class="center">
    <h1>ARCANUM CORE ∞ × AUREA</h1>
    <p>Iniciando Generador Cuántico…</p>
    <p><a class="btn primary" href="quantum-generator.html">Entrar ahora</a></p>
  </main>
  <script src="core.js"></script>
  <script src="fusion-engine.js"></script>
  <script src="ipfs-sync.js"></script>
</body>
</html>:root{--bg:#0b0e19;--panel:#0f1325;--ink:#e6f0ff;--muted:#9fb1d6;--ok:#38d39f;--bad:#ff5b7c;--brand:#00ecff;--brand2:#007bff;}
*{box-sizing:border-box}html,body{margin:0;height:100%;background:radial-gradient(1200px 800px at 50% 10%,#11193a,#09101f 60%,#070a14);color:var(--ink);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto}
.center{min-height:100dvh;display:grid;place-items:center;text-align:center;gap:8px}
h1{margin:0}
.btn{padding:.75rem 1.1rem;border:1px solid #24305e;border-radius:10px;background:#101734;color:#dfe8ff;text-decoration:none}
.btn.primary{background:linear-gradient(90deg,var(--brand),var(--brand2));color:#00111a}
.card{background:linear-gradient(180deg,var(--panel),#0b1022);border:1px solid #1a2242;border-radius:14px;padding:14px}
.grid{display:grid;gap:10px}
.pill{display:inline-block;padding:6px 10px;border:1px solid #25305a;border-radius:999px;background:#0e142b;color:#bcd0ff}
.pill.ok{box-shadow:0 0 6px var(--ok)}
.led{width:10px;height:10px;border-radius:50%;display:inline-block;background:#566}
.led.ok{background:var(--ok)}.led.bad{background:var(--bad)}
/* Generator */
.container{max-width:1120px;margin:20px auto;padding:0 14px}
.topbar{display:flex;justify-content:space-between;align-items:center;gap:10px;margin:14px 0}
.small{color:var(--muted);font-size:.9rem}
.input,select,textarea{width:100%;padding:10px;border-radius:10px;border:1px solid #28345f;background:#0a1124;color:#e9f0ff}
.controls{display:grid;gap:10px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
.actions{display:flex;gap:10px;flex-wrap:wrap}
.thumbs{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));margin-top:12px}
.thumb{border:1px solid #1b2344;border-radius:12px;overflow:hidden;background:#0a1122}
.thumb img{width:100%;display:block}
.badge{position:absolute;background:#061022cc;color:#cfe;top:8px;left:8px;padding:4px 8px;border-radius:8px;font-size:12px}
footer{opacity:.7;text-align:center;margin:20px 0}// core.js — fondo estelar ligero (canvas 2D)
(() => {
  const make = (w,h)=>{const c=document.createElement('canvas');c.width=w;c.height=h;return c;}
  const bg = make(32,32), g = bg.getContext('2d');
  const grad = g.createRadialGradient(16,12,2, 16,20,24); grad.addColorStop(0,'#142147'); grad.addColorStop(1,'#070b16');
  g.fillStyle = grad; g.fillRect(0,0,32,32);
  document.body.style.backgroundImage = `url(${bg.toDataURL()})`;

  // opcional: chispas
  let t=0; const loop=()=>{t+=1/60; requestAnimationFrame(loop)}; loop();
})();// fusion-engine.js — LEDs simbólicos + Wallet Phantom (si está)
(() => {
  // Web3 led (ping trivial)
  (async ()=>{
    try{ await fetch('https://www.cloudflare.com/cdn-cgi/trace',{mode:'no-cors'}); console.debug('web3 ok'); }catch(e){}
  })();

  // Phantom connect helper (si se usa en otros módulos)
  window.__connectPhantom = async () => {
    const p = window.solana || (window.phantom && window.phantom.solana);
    if(!p){ alert('Instala Phantom para conectar Wallet'); return null; }
    try{ const r=await p.connect(); return r.publicKey?.toString()||null; }catch(e){ return null; }
  };
})();// ipfs-sync.js — comprueba CIDs en gateways definidos en window.IPFS_CONFIG
(async () => {
  const cfg = window.IPFS_CONFIG || { cids:[], gateways:[] };
  async function checkOne(url){
    try{ await fetch(url,{method:'HEAD',mode:'no-cors'}); return true; }catch{return false;}
  }
  async function checkIPFS(){
    let ok=0;
    for(const cid of cfg.cids){
      for(const gw of cfg.gateways){
        const url = gw.replace(/\/+$/,'/') + cid;
        if(await checkOne(url)){ ok++; break; }
      }
    }
    const led = document.querySelector('#ipfs-led');
    const note = document.querySelector('#ipfs-note');
    if(led){ led.classList.toggle('ok', ok>0); led.classList.toggle('bad', ok===0); }
    if(note){ note.textContent = ok>0 ? 'IPFS accesible' : 'IPFS sin alcance'; }
  }
  checkIPFS(); setInterval(checkIPFS, 60000);
})();// ai-gen.js — Generación vía endpoints (Automatic1111/SD/Replicate/OpenAI) + compositor local
(() => {
  const $ = s=>document.querySelector(s);
  const $$ = s=>document.querySelectorAll(s);

  function parseWH(v){ const [w,h]=(v||'768x1024').split('x').map(n=>+n||512); return {width:Math.max(256,Math.min(1536,w)), height:Math.max(256,Math.min(1536,h))}; }
  function addThumb(src,label){
    const d=document.createElement('div'); d.className='thumb';
    d.innerHTML=`<div class="badge">${label||''}</div><img src="${src}" loading="lazy">`;
    $('#thumbs').appendChild(d);
  }

  async function callA1111({endpoint,route,prompt,neg,width,height,steps,cfg,seed}){
    const url = endpoint.replace(/\/+$/,'') + (route||'/sdapi/v1/txt2img');
    const body = { prompt, negative_prompt:neg||'', width,height, steps:steps||28, cfg_scale:cfg||7.5, seed:seed??-1 };
    const r = await fetch(url,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)});
    const j = await r.json(); const b64 = j?.images?.[0]; if(!b64) throw new Error('Sin imagen en respuesta');
    return 'data:image/png;base64,'+b64;
  }

  async function callOpenAI({apiKey,prompt,size,n}){
    const r = await fetch('https://api.openai.com/v1/images/generations',{
      method:'POST',
      headers:{'Content-Type':'application/json','Authorization':'Bearer '+apiKey},
      body:JSON.stringify({model:'gpt-image-1',prompt,size,n:n||1,quality:'high'})
    });
    const j = await r.json(); const it = j?.data?.[0]; if(!it) throw new Error('Sin imagen');
    return it.url || ('data:image/png;base64,'+(it.b64_json||'')); // según cuenta entrega url o b64
  }

  // Eventos UI
  $('#gen-face')?.addEventListener('click', ()=>gen('face'));
  $('#gen-body')?.addEventListener('click', ()=>gen('body'));
  $('#compose')?.addEventListener('click', compose);

  async function gen(kind){
    const ep = $('#endpoint').value.trim();
    const route = $('#route').value.trim() || '/sdapi/v1/txt2img';
    const key = $('#apikey').value.trim();
    const {width,height} = parseWH($('#wh').value);
    const steps = +($('#steps').value||28);
    const cfg = +($('#cfg').value||7.5);
    const seed = $('#seed').value===''? -1 : +$('#seed').value;
    const base = (kind==='face'? $('#p-face').value : $('#p-body').value) || 'cinematic portrait, AI avatar, detailed';
    const neg = $('#p-neg').value || 'lowres, blurry, deformed, text';
    $('#status').textContent = 'Generando '+(kind==='face'?'rostro':'cuerpo')+'…';
    try{
      let url;
      if(ep) url = await callA1111({endpoint:ep,route,prompt:base,neg,width,height,steps,cfg,seed});
      else if(key) url = await callOpenAI({apiKey:key,prompt:base,size:`${width}x${height}`,n:1});
      else throw new Error('Configura Endpoint o API Key');
      addThumb(url, kind==='face'?'Rostro':'Cuerpo');
      (kind==='face'? $('#img-face'):$('#img-body')).src = url;
      $('#status').textContent = 'Listo ✅';
    }catch(e){ $('#status').textContent = 'Error: '+e.message; }
  }

  async function compose(){
    const face = $('#img-face').src, body = $('#img-body').src;
    if(!body){ alert('Genera o elige un cuerpo primero'); return; }
    const c = $('#canvas'); const g = c.getContext('2d');
    const bi = await load(body); c.width=bi.width; c.height=bi.height; g.drawImage(bi,0,0);
    if(face){ const fi = await load(face); const w=Math.floor(c.width*.45), h=Math.floor(w*fi.height/fi.width); g.globalAlpha=.98; g.drawImage(fi, Math.floor(c.width*.275), Math.floor(c.height*.05), w,h); g.globalAlpha=1; }
    addThumb(c.toDataURL(),'Avatar');
  }
  function load(src){ return new Promise((res,rej)=>{ const i=new Image(); i.crossOrigin='anonymous'; i.onload=()=>res(i); i.onerror=rej; i.src=src; }); }
})();<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"/>
  <title>AI Quantum Generator — ARCANUM × AUREA</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <div class="topbar">
      <div>
        <strong>AI Quantum Generator</strong> · <span class="small">Rostros & Cuerpos • Auto-inicio</span>
      </div>
      <div class="small">
        <span class="pill">GitHub</span>
        <span class="pill" id="ipfs-pill"><span class="led" id="ipfs-led"></span> IPFS</span>
      </div>
    </div>

    <div class="card">
      <div class="grid">
        <label>Endpoint (Automatic1111 / SD WebUI)
          <input class="input" id="endpoint" placeholder="http://127.0.0.1:7860">
        </label>
        <label>Ruta txt2img
          <input class="input" id="route" placeholder="/sdapi/v1/txt2img" value="/sdapi/v1/txt2img">
        </label>
        <label>OpenAI API Key (opcional)
          <input class="input" id="apikey" placeholder="sk-...">
        </label>
        <label>AnchoxAlto
          <input class="input" id="wh" value="768x1024">
        </label>
        <label>Steps
          <input class="input" id="steps" type="number" value="28" min="10" max="75">
        </label>
        <label>CFG
          <input class="input" id="cfg" type="number" value="7.5" min="1" max="20" step=".5">
        </label>
        <label>Seed
          <input class="input" id="seed" type="number" placeholder="-1 aleatorio">
        </label>
      </div>
    </div>

    <div class="card">
      <h3>Prompts</h3>
      <div class="grid">
        <label>Prompt Rostro
          <input class="input" id="p-face" value="cinematic portrait, AI avatar, ultra-detailed, soft light, accurate facial features">
        </label>
        <label>Prompt Cuerpo
          <input class="input" id="p-body" value="full body, futuristic suit, elegant, dynamic pose, studio lighting">
        </label>
        <label>Prompt Negativo
          <input class="input" id="p-neg" value="lowres, blurry, deformed, extra limbs, text">
        </label>
      </div>
      <div class="actions">
        <button class="btn primary" id="gen-face">Generar Rostro</button>
        <button class="btn" id="gen-body">Generar Cuerpo</button>
        <button class="btn" id="compose">Componer Avatar</button>
      </div>
      <div id="status" class="small">Listo.</div>
    </div>

    <div class="card">
      <h3>Resultados</h3>
      <div class="thumbs" id="thumbs"></div>
      <div class="grid" style="grid-template-columns:1fr 1fr;">
        <figure class="card"><img id="img-face" alt="rostro"></figure>
        <figure class="card"><img id="img-body" alt="cuerpo"></figure>
      </div>
      <canvas id="canvas" style="width:100%;border:1px solid #1a2242;border-radius:12px;background:#000"></canvas>
    </div>

    <footer>© ARCANUM CORE ∞ • AUREA CORE — Quantum Resonant Entity</footer>
  </div>

  <script src="core.js"></script>
  <script src="ipfs-sync.js"></script>
  <script src="ai-gen.js"></script>
</body>
</html># ARCANUM CORE ∞ × AUREA — Quantum v33.0 (Auto-inicio)

Este paquete sirve el **Generador Cuántico** al entrar al portal.
Sube estos archivos **descomprimidos** a GitHub/Pinata/Web3.Storage.

## Deploy
1) GitHub Pages → repo raíz, branch `main`, Pages: `/ (root)`
2) IPFS → sube carpeta completa a Pinata y Web3.Storage
3) Edita CIDs en `index.html` dentro de `window.IPFS_CONFIG`

## Generador
- Endpoint local (Automatic1111 / SD WebUI): `http://127.0.0.1:7860` + `/sdapi/v1/txt2img`
- Alternativa: OpenAI Images (poner API key)
- Compositor: combina rostro+cuerpo en el navegador (offline)
